-- made with ChatGPT 4-0, for testing purposes
-- somehow this is better than any other script for this game i've seen so far
-- Kavo UI Library setup
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("Slap Battles Script by d3cryptt! (Chatgpt made 90%)", "Ocean")

-- Slap Aura Section
local SlapAuraTab = Window:NewTab("Slap Aura")
local SlapAuraSection = SlapAuraTab:NewSection("Slap Aura")
local SlapAuraSection = SlapAuraTab:NewSection("alt got banned, add remotes yourself for more gloves")
-- Variables
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer
local slapDistance = 50
local slapCooldown = 0.6
local lastSlapTime = 0
local slapEnabled = false
local selectedRemote = "b" -- Default remote

-- Function to slap the closest player within the slap distance
local function slapClosestPlayer()
    if not slapEnabled then return end -- Only proceed if Slap Aura is enabled

    local closestPlayer = nil
    local closestDistance = slapDistance

    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        local playerPosition = player.Character.HumanoidRootPart.Position

        for _, otherPlayer in pairs(Players:GetPlayers()) do
            if otherPlayer ~= player and otherPlayer.Character and otherPlayer.Character:FindFirstChild("HumanoidRootPart") then
                local otherPlayerPosition = otherPlayer.Character.HumanoidRootPart.Position
                local distance = (playerPosition - otherPlayerPosition).Magnitude

                if distance <= closestDistance then
                    closestDistance = distance
                    closestPlayer = otherPlayer
                end
            end
        end

        if closestPlayer and tick() - lastSlapTime >= slapCooldown then
            lastSlapTime = tick() -- Update last slap time
            if closestPlayer.Character and closestPlayer.Character:FindFirstChild("Head") then
                local head = closestPlayer.Character.Head
                local args = {head}
                local remote = ReplicatedStorage:FindFirstChild(selectedRemote)
                if remote then
                    remote:FireServer(unpack(args))
                end
            end
        end
    end
end

-- Dropdown menu for glove selection
local gloveList = {
    {"Default", "b"},
    {"Dual", "GeneralHit"},
    {"Diamond", "DiamondHit"},
    {"ZZZZZZZ", "ZZZZZZZHit"},
    {"Extended", "b"},
    {"Brick", "BrickHit"},
    {"Snow", "SnowHit"},
    {"Pull", "PullHit"},
    {"Flash", "FlashHit"},
    {"Spring", "springhit"},
    {"Swapper", "HitSwapper"},
    {"Bull", "BullHit"},
    {"Dice", "DiceHit"},
    {"Ghost", "GhostHit"},
    {"Thanos", "ThanosHit"},
    {"Stun", "HtStun"},
    {"L.O.L.B.O.M.B", "GeneralHit"},
    {"Za Hando", "zhrmat"},
    {"Fort", "Fort"},
    {"Magnet", "MagnetHIT"},
    {"Pusher", "PusherHit"},
    {"Anchor", "hitAnchor"},
    {"Space", "HtSpace"},
    {"Boomerang", "BoomerangH"},
    {"Speedrun", "Speedrunhit"},
    {"Mail", "MailHit"},
    {"T H I C K", "GeneralHit"},
    {"Golden", "GoldenHit"},
    {"Squid", "GeneralHit"},
    {"MR", "MisterHit"},
    {"Hive", "GeneralHit"},
    {"Reaper", "GeneralHit"},
    {"Replica", "ReplicaHit"},
    {"Defense", "DefenseHit"},
    {"Killstreak", "KSHit"},
    {"Reverse", "ReverseHit"},
    {"Shukuchi", "ShukuchiHit"},
    {"Duelist", "DuelistHit"},
    {"Woah", "(woahHit)"},
    {"Ice (doesnt work, idk why)", "(IceHit)"},
    {"Gummy", "(GeneralHit)"},
    {"Adios", "(hitAdios)"},
    {"Blocked", "(NOT SUPPORTED)"},
    {"Divert", "(NOT SUPPORTED)"},
    {"Engineer", "(NOT SUPPORTED)"},
    {"Rocky", "(NOT SUPPORTED)"},
    {"Coil", "(NOT SUPPORTED)"},
    {"Conveyor", "(NOT SUPPORTED)"},
    {"Balloony", "(NOT SUPPORTED)"},
    {"Phantom", "(NOT SUPPORTED)"},
    {"El Gato", "(NOT SUPPORTED)"},
    {"Wormhole", "(NOT SUPPORTED)"},
    {"Stop", "(NOT SUPPORTED)"},
    {"Track", "(NOT SUPPORTED)"},
    {"Tableflip", "(NOT SUPPORTED)"},
    {"Shild", "(NOT SUPPORTED)"},
    {"Booster", "(NOT SUPPORTED)"},
    {"Ping Pong", "(NOT SUPPORTED)"},
    {"Baller", "(NOT SUPPORTED)"},
    {"Home Run", "(NOT SUPPORTED)"},
    {"Whirlwind", "(NOT SUPPORTED)"},
    {"Slicer", "(NOT SUPPORTED)"},
    {"Excavator", "(NOT SUPPORTED)"},
    {"Nightmare", "(NOT SUPPORTED)"},
    {"Thor", "(NOT SUPPORTED)"},
    {"Pocket", "(NOT SUPPORTED)"},
    {"Grapple", "(NOT SUPPORTED)"},
    {"Cloud", "(NOT SUPPORTED)"},
    {"Gravity", "(NOT SUPPORTED)"},
    {"Parry", "(NOT SUPPORTED)"},
    {"Jebaited", "(NOT SUPPORTED)"},
    {"Meteor", "(NOT SUPPORTED)"},
    {"Oven", "(NOT SUPPORTED)"},
    {"Guardian Angel", "(NOT SUPPORTED)"},
    {"Sun", "(NOT SUPPORTED)"},
    {"Ferryman", "(NOT SUPPORTED)"},
    {"Blackhole", "(NOT SUPPORTED)"},
    {"Blink", "(NOT SUPPORTED)"},
    {"Prop", "(NOT SUPPORTED)"},
    {"Slapstick", "(NOT SUPPORTED)"},
    {"Beatdown", "(NOT SUPPORTED)"},
    {"Chicken", "(NOT SUPPORTED)"},
    {"Bonk", "(NOT SUPPORTED)"},
    {"Sbeve", "(NOT SUPPORTED)"},
    {"Golem", "(NOT SUPPORTED)"},
    {"Grab", "(NOT SUPPORTED)"},
    {"Ufo", "(NOT SUPPORTED)"},
    {"God's Hand", "(NOT SUPPORTED)"},
    {"The Flex", "FlexHit"},
    {"CULT", "CULTHit"}
}

local gloveNames = {}
for _, glove in ipairs(gloveList) do
    table.insert(gloveNames, glove[1])
end

SlapAuraSection:NewDropdown("Select Glove", "Choose a glove to set the remote", gloveNames, function(selected)
    for _, glove in ipairs(gloveList) do
        if glove[1] == selected then
            selectedRemote = glove[2]
            break
        end
    end
end)

-- UI Elements for Slap Aura
SlapAuraSection:NewToggle("Enable Slap Aura", "Toggle the Slap Aura on/off", function(state)
    slapEnabled = state
end)

SlapAuraSection:NewSlider("Slap Distance", "Set the distance for the Slap Aura", 50, 1, slapDistance, function(value)
    slapDistance = value
end)

-- Update handling using RunService
local RunService = game:GetService("RunService")

RunService.RenderStepped:Connect(function()
    if slapEnabled then
        slapClosestPlayer()
    end
end)

SlapAuraSection:NewButton("Teleport To Arena, (99% God Mode)", "Makes you tp to the Arena", function()
        local player = game.Players.LocalPlayer.Character
local part = workspace.Arena["main island"].Grass 
player.HumanoidRootPart.CFrame = part.CFrame
    end)

--Slapple stuff
local SlappleFarmTab = Window:NewTab("Slapple Farm")
local SlappleFarmSection = SlappleFarmTab:NewSection("farm slapples")


-- Slapple Farm Section

SlappleFarmSection:NewToggle("Enable Slapple Farm", "Toggle the Slapple Farm on/off", function(state)
    slappleFarmEnabled = state
end)


-- Function to fire TouchInterests for Slapples
local function farmSlapples()
    local slappleContainer = workspace:FindFirstChild("Arena") and workspace.Arena:FindFirstChild("island5") and workspace.Arena.island5:FindFirstChild("Slapples")
    if slappleContainer then
        for _, slapple in ipairs(slappleContainer:GetChildren()) do
            if slapple:IsA("Model") and slapple:FindFirstChild("Glove") then
                local glove = slapple.Glove
                if glove:FindFirstChild("TouchInterest") then
                    firetouchinterest(player.Character.HumanoidRootPart, glove, 0)
                    firetouchinterest(player.Character.HumanoidRootPart, glove, 1)
                end
            end
        end
    end
end

-- Function to update slap and slapple farm checks
local function onUpdate()
    if slapEnabled then
        slapClosestPlayer()
    end
    if slappleFarmEnabled then
        farmSlapples()
    end
end


-- Continuous check for actions
RunService.RenderStepped:Connect(onUpdate)

-- Anti Fall Tab and Toggle
local AntiFallTab = Window:NewTab("Anti Fall")
local AntiFallSection = AntiFallTab:NewSection("Anti Fall")

-- Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

-- Variables
local player = Players.LocalPlayer
local teleportCFrame = CFrame.new(-6.73902416, -5.20054817, 1.95076489, -0.136649311, -0.00766478525, -0.990589857, -0.000125628911, 0.999970198, -0.00772003829, 0.99061954, -0.000930505106, -0.136646196)
local fallProtectionEnabled = false

-- Function to check if the player has fallen
local function checkFall()
    if fallProtectionEnabled and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        local yPosition = player.Character.HumanoidRootPart.Position.Y
        if yPosition < -10 then -- Set the threshold Y value as needed
            player.Character:SetPrimaryPartCFrame(teleportCFrame)
        end
    end
end

AntiFallSection:NewToggle("Teleport Anti Fall", "Toggle the Anti Fall protection on/off", function(state)
    fallProtectionEnabled = state
end)

-- Continuous check for fall detection
RunService.Heartbeat:Connect(checkFall)

-- Variables
local originalCFrame = CFrame.new(-4.08799744, -8.92285156, 1.83599997) * CFrame.Angles(0, 0, math.rad(0.06))
local platformSize = Vector3.new(2000, 1, 2000) -- Flat, 1 stud high
local platform
local isPlatformVisible = false

-- Function to create the invisible part
local function createPlatform()
    if not platform then
        platform = Instance.new("Part")
        platform.Size = platformSize
        platform.CFrame = originalCFrame
        platform.Anchored = true
        platform.CanCollide = true
        platform.Transparency = 0.8 -- Invisible
        platform.Parent = workspace
    end
    platform.Parent = workspace
end

-- Function to remove the platform
local function removePlatform()
    if platform then
        platform.Parent = nil
    end
end

-- Toggle function for the button
local function togglePlatform()
    if isPlatformVisible then
        removePlatform()
    else
        createPlatform()
    end
    isPlatformVisible = not isPlatformVisible
end

-- Kavo UI Button Setup
AntiFallSection:NewToggle("Invisible Floor Anti Fall", "Toggle the invisible platform", function(state)
    togglePlatform()
end)


-- Other tabs and sections you have can go below here...


local extrashitTab = Window:NewTab("extra stuff")
local extrashitSection = extrashitTab:NewSection("some cool useful stuff")

-- Function to fire ClickDetector
local function firePlayerClickDetector()
    if not autoclickEnabled then return end
    
    -- Iterate over all objects in workspace
    for _, object in pairs(workspace:GetChildren()) do
        -- Check if the object's name contains the player's name and "Tycoon"
        if object:IsA("Model") and object.Name:find(playerName) and object.Name:find("Tycoon") then
            -- Find the "Click" part and the ClickDetector inside it
            local clickPart = object:FindFirstChild("Click")
            if clickPart and clickPart:FindFirstChild("ClickDetector") then
                local clickDetector = clickPart.ClickDetector
                fireclickdetector(clickDetector)
            end
        end
    end
end

-- Toggle button for Auto Click
extrashitSection:NewToggle("Tycoon Autoclick (also doesnt work)", "Toggle the auto clicker on/off", function(state)
    autoclickEnabled = state
end)

-- Continuous check for autoclicking
RunService.Heartbeat:Connect(function()
    firePlayerClickDetector()
    wait(0.1)
end)


extrashitSection:NewButton("Infinite Yield", "gives you admin commands", function()
 loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()
end)


extrashitSection:NewButton("Remote Spy", "gives you a remote spyer", function()
 loadstring(game:HttpGet("https://raw.githubusercontent.com/infyiff/backup/main/SimpleSpyV3/main.lua"))()
end)

extrashitSection:NewButton("Dex Explorer", "gives you dex explorer", function()
 loadstring(game:HttpGet("https://raw.githubusercontent.com/infyiff/backup/main/dex.lua"))()
end)

local Autofarm = Window:NewTab("Autofarm (ass)")
local AutofarmSection = Autofarm:NewSection("Track Under Random Player")

-- Variables
local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local isToggling = false
local maxDistance = 300 -- Maximum distance in studs
local tweenSpeed = 10 -- Default tween speed

-- Function to find a random player within a specified distance
local function findPlayerWithinDistance()
    local nearbyPlayers = {}
    local localPosition = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") and LocalPlayer.Character.HumanoidRootPart.Position

    if localPosition then
        for _, player in ipairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local playerPosition = player.Character.HumanoidRootPart.Position
                local distance = (localPosition - playerPosition).magnitude

                if distance <= maxDistance then
                    table.insert(nearbyPlayers, player)
                end
            end
        end
    end

    if #nearbyPlayers > 0 then
        return nearbyPlayers[math.random(1, #nearbyPlayers)]
    end
end

-- Function to keep the local player's character underneath a random player within distance
local function trackRandomPlayer()
    while isToggling do
        local player = findPlayerWithinDistance()
        if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local rootPart = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            local targetRootPart = player.Character.HumanoidRootPart

            while isToggling and player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") and (rootPart.Position - targetRootPart.Position).magnitude <= maxDistance do
                local targetPosition = targetRootPart.Position - Vector3.new(0, 6, 0) -- Adjust as needed
                local tweenInfo = TweenInfo.new(tweenSpeed, Enum.EasingStyle.Linear, Enum.EasingDirection.Out)
                local goal = { Position = targetPosition }

                local tween = TweenService:Create(rootPart, tweenInfo, goal)
                tween:Play()
                tween.Completed:Wait()

                wait(tweenSpeed)
            end
        else
            wait(0.5)
        end
    end
end

-- Toggle function for the button
local function toggleFunction()
    if isToggling then
        isToggling = false
    else
        isToggling = true
        spawn(trackRandomPlayer)
    end
end

-- Kavo UI Button Setup
AutofarmSection:NewToggle("Enable Tracking", "Toggle the tracking of your character underneath a random player within 300 studs", function(state)
    toggleFunction()
end)

-- TweenSpeed Slider Setup
AutofarmSection:NewSlider("Tween Speed", "Adjust the tween speed", 300, 1, function(value)
    tweenSpeed = value  -- Scale the value down for practical use
end)
